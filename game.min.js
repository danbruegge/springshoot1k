var c,d=window,e=[];function f(b,g){return Math.floor(Math.random()*(g-b)+b)}var h=[f(96,576),f(32,416),9],j=[16,224],k=0,l=99,m=0;function n(b,g,p,q,r){a.beginPath();a.rect(b,g,p,q);a.fillStyle=r;a.closePath();a.fill()}a.canvas.width=640;a.canvas.height=480;d.onkeydown=function(b){b=b.keyCode;38==b&&(j[1]-=9);40==b&&(j[1]+=9);32==b&&e.push([j[0]+32,j[1]+16-3]);0>=j[1]&&(j[1]=0);448<=j[1]&&(j[1]=448)}; c=d.setInterval(function(){a.clearRect(0,0,640,480);n(0,0,640,480,"#cc6");n(64,0,2,480,"#993");n(h[0],h[1],32,32,"#f0"+h[2]);for(var b=0;b<e.length;b++)if(e[b][0]+=2,628>=e[b][0]){var g=e[b][1]>h[1]&&e[b][1]<h[1]+32;e[b][0]>=h[0]&&g?(e.splice(b,1),0<h[2]?(n(h[0],h[1],32,32,"#f0"+h[2]),h[2]--):(k++,h=[f(96,576),f(32,416),9],n(h[0],h[1],32,32,"#f0"+h[2]))):n(e[b][0],e[b][1],6,6,"#ff0")}n(j[0],j[1],32,32,"#693");a.fillText("T: "+l,80,9);a.fillText("K: "+k,80,20);m++;99==m&&(l--,m=0);-1==l&&(d.clearInterval(c), a.fillStyle="#000",a.textAlign="center",a.fillText("HIT F5",320,240))},9);

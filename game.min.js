function c(b){return Math.floor(Math.random()*b+d)}var d=32,e=[],f=[c(640-2*d),c(480-2*d),9],g=[d/2,240-d/2],h=0,j=10,k=0;a.canvas.width=640;a.canvas.height=480;function m(b,l,n,p,q){a.beginPath();a.rect(b,l,n,p);a.fillStyle=q;a.closePath();a.fill()}window.onkeydown=function(b){b=b.keyCode;38===b&&(g[1]-=9);40===b&&(g[1]+=9);32===b&&e.push([g[0]+d,g[1]+d/2-3]);0>=g[1]&&(g[1]=0);g[1]>=480-d&&(g[1]=480-d)}; var r=window.setInterval(function(){a.clearRect(0,0,640,480);m(0,0,640,480,"#cc6");m(2*d,0,2,480,"#993");m(f[0],f[1],d,d,"#f0"+f[2]);for(var b=0;b<e.length;b++)if(e[b][0]+=2,628>=e[b][0]){var l=e[b][1]>f[1]&&e[b][1]<f[1]+d;e[b][0]>=f[0]&&l?(e.splice(b,1),0<f[2]?(m(f[0],f[1],d,d,"#f0"+f[2]),f[2]-=1):(h++,f=[c(640-2*d),c(480-2*d),9],m(f[0],f[1],d,d,"#f0"+f[2]))):m(e[b][0],e[b][1],6,6,"#ff0")}m(g[0],g[1],d,d,"#693");a.fillText("T: "+j,80,10);a.fillText("K: "+h,80,20);k++;100===k&&(j--,k=0);-1===j&&(window.clearInterval(r), a.fillStyle="#000",a.textAlign="center",a.fillText("F5 RESTART",320,240))},10);

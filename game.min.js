var c,d=window,f=[];N=function(){return[Math.floor(480*Math.random()+96),Math.floor(384*Math.random()+32),9]};E=N();P=[16,224];K=0;T=99;h=0;R=function(b,e,g,j,k){a.beginPath();a.rect(b,e,g,j);a.fillStyle=k;a.closePath();a.fill()};a.canvas.width=640;a.canvas.height=480;d.onkeydown=function(b){b=b.keyCode;38==b&&(P[1]-=9);40==b&&(P[1]+=9);32==b&&f.push([P[0]+32,P[1]+16-3]);0>=P[1]&&(P[1]=0);448<=P[1]&&(P[1]=448)}; c=d.setInterval(function(){a.clearRect(0,0,640,480);R(0,0,640,480,"#cc6");R(64,0,2,480,"#993");R(E[0],E[1],32,32,"#f0"+E[2]);for(var b=0;b<f.length;b++)if(f[b][0]+=2,628>=f[b][0]){var e=f[b][1]>E[1]&&f[b][1]<E[1]+32;f[b][0]>=E[0]&&e?(f.splice(b,1),0<E[2]?(R(E[0],E[1],32,32,"#f0"+E[2]),E[2]--):(K++,E=N(),R(E[0],E[1],32,32,"#f0"+E[2]))):R(f[b][0],f[b][1],6,6,"#ff0")}R(P[0],P[1],32,32,"#693");a.fillText("T: "+T,80,9);a.fillText("K: "+K,80,20);h++;99==h&&(T--,h=0);-1==T&&(d.clearInterval(c),a.fillStyle= "#000",a.textAlign="center",a.fillText("HIT F5",320,240))},10);

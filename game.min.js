window.onload=function(){function h(c,b,d,e,g){a.beginPath();a.rect(c,b,d,e);a.fillStyle=g;a.closePath();a.fill()}function k(){return[Math.floor(Math.random()*(j-2*c)+c),Math.floor(Math.random()*(g-2*c)+c),9]}var j=640,g=480,c=32,e=[],b=k(),d=[c/2,g/2-c/2];a.canvas.width=j;a.canvas.height=g;window.onkeydown=function(b){b=b.keyCode;38===b&&(d[1]-=9);40===b&&(d[1]+=9);32===b&&e.push([d[0]+c,d[1]+c/2-3]);0>=d[1]&&(d[1]=0);d[1]>=g-c&&(d[1]=g-c)};window.setInterval(function(){a.clearRect(0,0,j,g);h(0, 0,j,g,"#cc6");h(2*c,0,2,g,"#993");h(b[0],b[1],c,c,"#f0"+b[2]);for(var f=0;f<e.length;f++)if(e[f][0]+=2,e[f][0]<=j-12){var l=e[f][1]>b[1]&&e[f][1]<b[1]+c;e[f][0]>=b[0]&&l?(e.splice(f,1),0<b[2]?(h(b[0],b[1],c,c,"#f0"+b[2]),b[2]-=1):(b=k(),h(b[0],b[1],c,c,"#f0"+b[2]))):h(e[f][0],e[f][1],6,6,"#ff0")}h(d[0],d[1],c,c,"#693")},10)};

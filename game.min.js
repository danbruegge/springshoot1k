function c(b){return Math.floor(Math.random()*b+d)}var e=window,d=32,f=[],g=[c(640-2*d),c(480-2*d),9],h=[d/2,240-d/2],j=0,k=99,l=0;a.canvas.width=640;a.canvas.height=480;function n(b,m,p,q,r){a.beginPath();a.rect(b,m,p,q);a.fillStyle=r;a.closePath();a.fill()}e.onkeydown=function(b){b=b.keyCode;38===b&&(h[1]-=9);40===b&&(h[1]+=9);32===b&&f.push([h[0]+d,h[1]+d/2-3]);0>=h[1]&&(h[1]=0);h[1]>=480-d&&(h[1]=480-d)}; var s=e.setInterval(function(){a.clearRect(0,0,640,480);n(0,0,640,480,"#cc6");n(2*d,0,2,480,"#993");n(g[0],g[1],d,d,"#f0"+g[2]);for(var b=0;b<f.length;b++)if(f[b][0]+=2,628>=f[b][0]){var m=f[b][1]>g[1]&&f[b][1]<g[1]+d;f[b][0]>=g[0]&&m?(f.splice(b,1),0<g[2]?(n(g[0],g[1],d,d,"#f0"+g[2]),g[2]-=1):(j++,g=[c(640-2*d),c(480-2*d),9],n(g[0],g[1],d,d,"#f0"+g[2]))):n(f[b][0],f[b][1],6,6,"#ff0")}n(h[0],h[1],d,d,"#693");a.fillText("T: "+k,80,10);a.fillText("K: "+j,80,20);l++;100===l&&(k--,l=0);-1===k&&(e.clearInterval(s), a.fillStyle="#000",a.textAlign="center",a.fillText("HIT F5",320,240))},10);
